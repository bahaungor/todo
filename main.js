(()=>{"use strict";const e=document.querySelector(".sidebar"),t=document.querySelector(".side-menu-opener"),c=document.querySelector(".main");let o=!0;function n(){d.style.display="flex"}function r(){document.querySelector(".project-form-input").value="",d.style.display="none"}t.addEventListener("click",(function(){o?(e.style.display="none",c.style.gridTemplateColumns="1fr",o=!1):(e.style.display="block",c.style.gridTemplateColumns="350px 1fr",o=!0)})),document.querySelector(".add-button").addEventListener("click",n),document.querySelector(".project-form-button.cancel").addEventListener("click",r);const l=document.querySelectorAll(".sidebar-item"),s=document.querySelector(".content-title");l.forEach((e=>e.addEventListener("click",(e=>{!function(e){l.forEach((e=>e.classList.remove("active"))),document.querySelectorAll(".project").forEach((e=>e.classList.remove("active"))),e.target.classList.add("active")}(e),function(e){s.textContent="",s.textContent=e.target.textContent,document.querySelector(".add-task").classList.add("hidden")}(e)}))));let i="";let a=!1;const d=document.querySelector(".project-form");function u(){let e=0;p.forEach((t=>{t.id=e,e++}))}function m(e){console.log(i),confirm("Are you sure you want to delete this project & tasks inside it?")&&(p.splice(i,1),localStorage.setItem("projects_by_baha",JSON.stringify(p))),u(),f()}d.addEventListener("submit",(function(e){if(e.preventDefault(),a)console.log(i),p[i].projectTitle=d.querySelector(".project-form-input").value,a=!1,localStorage.setItem("projects_by_baha",JSON.stringify(p)),f(),r();else{const e=function(e){console.log("factory called");return{projectTitle:e,id:p.length}}(document.querySelector(".project-form-input").value);p.push(e),console.log(p),localStorage.setItem("projects_by_baha",JSON.stringify(p)),u(),f(),r()}})),document.querySelectorAll(".delete-button").forEach((e=>e.addEventListener("click",m)));const p=JSON.parse(localStorage.getItem("projects_by_baha"))||[];function f(){const e=document.querySelector(".projects");e.innerHTML="",p.forEach((t=>{const c=document.createElement("div");c.classList.add("project"),c.dataset.id=t.id;const o=document.createElement("div");o.classList.add("project-title"),o.textContent=t.projectTitle;const n=document.createElement("img");n.classList.add("menu-icon"),n.classList.add("edit-button"),n.setAttribute("src","../src/images/edit.png");const r=document.createElement("img");r.classList.add("menu-icon"),r.classList.add("delete-button"),r.setAttribute("src","../src/images/delete.png"),r.addEventListener("click",m),c.appendChild(o),c.appendChild(n),c.appendChild(r),e.appendChild(c)})),function(){const e=document.querySelectorAll(".project");e.forEach((t=>t.addEventListener("click",(t=>{!function(t){e.forEach((e=>e.classList.remove("active"))),l.forEach((e=>e.classList.remove("active"))),t.currentTarget.classList.add("active")}(t),document.querySelector(".add-task").classList.remove("hidden"),function(e){document.querySelector(".content-title").textContent=e.currentTarget.textContent}(t),function(e){i=e.currentTarget.dataset.id,console.log("selected project is "+i)}(t)}))))}(),function(){function e(e){n(),a=!0,d.querySelector(".project-form-input").value=e.target.parentNode.textContent}document.querySelectorAll(".edit-button").forEach((t=>t.addEventListener("click",e)))}()}document.querySelector(".add-task").addEventListener("click",(function(){console.log(i)})),f()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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TzRDLFdBQVd6QyxZQUx0RHhCLFNBQVNhLGlCQUFpQixnQkFDbENFLFNBQVFDLEdBQVVBLEVBQU9SLGlCQUFpQixRQUFTd0QsS0R3Qi9ERSxHRTdCa0JsRSxTQUFTQyxjQUFjLGFBQy9CTyxpQkFBaUIsU0FFL0IsV0FDSXlCLFFBQVFDLElBQUlSLE1DRGhCZSxLIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vMTUuLXRvZG8tbGlzdC8uL3NyYy9zaWRlYmFyT3BlbmVyLmpzIiwid2VicGFjazovLzE1Li10b2RvLWxpc3QvLi9zcmMvcHJvamVjdEZvcm1PcGVuZXJDbG9zZXIuanMiLCJ3ZWJwYWNrOi8vMTUuLXRvZG8tbGlzdC8uL3NyYy9ob21lQnV0dG9uc0Z1bmN0aW9ucy5qcyIsIndlYnBhY2s6Ly8xNS4tdG9kby1saXN0Ly4vc3JjL3NpZGViYXJQcm9qZWN0TGlzdEZ1bmN0aW9uYWxpdHkuanMiLCJ3ZWJwYWNrOi8vMTUuLXRvZG8tbGlzdC8uL3NyYy9hZGRVcGRhdGVQcm9qZWN0LmpzIiwid2VicGFjazovLzE1Li10b2RvLWxpc3QvLi9zcmMvZGVsZXRlUHJvamVjdC5qcyIsIndlYnBhY2s6Ly8xNS4tdG9kby1saXN0Ly4vc3JjL3Byb2plY3RMb2FkZXIuanMiLCJ3ZWJwYWNrOi8vMTUuLXRvZG8tbGlzdC8uL3NyYy9zaWRlYmFyUHJvamVjdEVkaXRzLmpzIiwid2VicGFjazovLzE1Li10b2RvLWxpc3QvLi9zcmMvdGFza0NyZWF0b3IuanMiLCJ3ZWJwYWNrOi8vMTUuLXRvZG8tbGlzdC8uL3NyYy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBzaWRlYmFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zaWRlYmFyXCIpO1xyXG5jb25zdCBzaWRlYmFyT3BlbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zaWRlLW1lbnUtb3BlbmVyXCIpO1xyXG5jb25zdCBtYWluID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tYWluXCIpO1xyXG5sZXQgc2lkZWJhclNob3duID0gdHJ1ZTtcclxuc2lkZWJhck9wZW5lci5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdG9nZ2xlU2lkZWJhcik7XHJcbmZ1bmN0aW9uIHRvZ2dsZVNpZGViYXIoKXtcclxuICAgIGlmKHNpZGViYXJTaG93bil7XHJcbiAgICAgICAgc2lkZWJhci5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICAgICAgbWFpbi5zdHlsZS5ncmlkVGVtcGxhdGVDb2x1bW5zID0gXCIxZnJcIjtcclxuICAgICAgICBzaWRlYmFyU2hvd24gPSBmYWxzZTtcclxuICAgIH0gZWxzZXtcclxuICAgICAgICBzaWRlYmFyLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XHJcbiAgICAgICAgbWFpbi5zdHlsZS5ncmlkVGVtcGxhdGVDb2x1bW5zID0gXCIzNTBweCAxZnJcIjtcclxuICAgICAgICBzaWRlYmFyU2hvd24gPSB0cnVlO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQge3NpZGViYXJPcGVuZXJ9IiwiaW1wb3J0IHtmb3JtfSBmcm9tIFwiLi9hZGRVcGRhdGVQcm9qZWN0XCJcclxuXHJcbmNvbnN0IGFkZFByb2plY3RCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmFkZC1idXR0b25cIik7XHJcbmFkZFByb2plY3RCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIG9wZW5Qcm9qZWN0Rm9ybSk7XHJcbmZ1bmN0aW9uIG9wZW5Qcm9qZWN0Rm9ybSgpe1xyXG4gICAgZm9ybS5zdHlsZS5kaXNwbGF5ID0gXCJmbGV4XCI7XHJcbn1cclxuXHJcbmNvbnN0IGNhbmNlbEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvamVjdC1mb3JtLWJ1dHRvbi5jYW5jZWxcIik7XHJcbmNhbmNlbEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgY2xvc2VQcm9qZWN0Rm9ybSk7XHJcbmZ1bmN0aW9uIGNsb3NlUHJvamVjdEZvcm0oKXtcclxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvamVjdC1mb3JtLWlucHV0XCIpLnZhbHVlID0gXCJcIjtcclxuICAgIGZvcm0uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG59XHJcblxyXG5leHBvcnQge2Nsb3NlUHJvamVjdEZvcm0sIG9wZW5Qcm9qZWN0Rm9ybX0iLCJjb25zdCBtZW51YnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuc2lkZWJhci1pdGVtXCIpO1xyXG5jb25zdCBjb250ZW50VGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNvbnRlbnQtdGl0bGVcIik7XHJcblxyXG5tZW51YnV0dG9ucy5mb3JFYWNoKGJ1dHRvbiA9PiBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XHJcbiAgICBzZWxlY3RCdXR0b24oZSk7XHJcbiAgICB1cGRhdGVDb250ZW50VGl0bGUoZSk7XHJcbn0pKTtcclxuZnVuY3Rpb24gc2VsZWN0QnV0dG9uKGUpe1xyXG4gICAgbWVudWJ1dHRvbnMuZm9yRWFjaChidXR0b24gPT4gYnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIikpO1xyXG4gICAgY29uc3Qgc2lkZWJhclByb2plY3RzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5wcm9qZWN0XCIpO1xyXG4gICAgc2lkZWJhclByb2plY3RzLmZvckVhY2gocHJvamVjdCA9PiBwcm9qZWN0LmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIikpO1xyXG4gICAgZS50YXJnZXQuY2xhc3NMaXN0LmFkZChcImFjdGl2ZVwiKTtcclxufVxyXG5mdW5jdGlvbiB1cGRhdGVDb250ZW50VGl0bGUoZSl7XHJcbiAgICBjb250ZW50VGl0bGUudGV4dENvbnRlbnQgPSBcIlwiO1xyXG4gICAgY29udGVudFRpdGxlLnRleHRDb250ZW50ID0gZS50YXJnZXQudGV4dENvbnRlbnQ7XHJcbiAgICBjb25zdCBhZGRUYXNrQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hZGQtdGFza1wiKTtcclxuICAgIGFkZFRhc2tCdXR0b24uY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKTtcclxufVxyXG5cclxuZXhwb3J0IHttZW51YnV0dG9uc30iLCJpbXBvcnQgeyBtZW51YnV0dG9ucyB9IGZyb20gXCIuL2hvbWVCdXR0b25zRnVuY3Rpb25zXCI7XHJcblxyXG5sZXQgc2VsZWN0ZWRQcm9qZWN0ID0gXCJcIjtcclxuZnVuY3Rpb24gc2lkZWJhclByb2plY3RGdW5jdGlvbmFsaXR5KCl7XHJcbiAgICBjb25zdCBzaWRlYmFyUHJvamVjdHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnByb2plY3RcIik7XHJcbiAgICBzaWRlYmFyUHJvamVjdHMuZm9yRWFjaChwcm9qZWN0ID0+IHByb2plY3QuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XHJcbiAgICAgICAgaGlnaGxpZ2h0UHJvamVjdChlKTtcclxuICAgICAgICBkaXNwbGF5UHJvamVjdFRhc2tzKGUpO1xyXG4gICAgICAgIHVwZGF0ZUNvbnRlbnRUaXRsZShlKTtcclxuICAgICAgICB1cGRhdGVTZWxlY3RlZFByb2plY3QoZSk7XHJcbiAgICB9KSk7XHJcbiAgICBmdW5jdGlvbiBoaWdobGlnaHRQcm9qZWN0KGUpe1xyXG4gICAgICAgIHNpZGViYXJQcm9qZWN0cy5mb3JFYWNoKHByb2plY3QgPT4gcHJvamVjdC5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpKTtcclxuICAgICAgICBtZW51YnV0dG9ucy5mb3JFYWNoKGJ1dHRvbiA9PiBidXR0b24uY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZVwiKSk7XHJcbiAgICAgICAgZS5jdXJyZW50VGFyZ2V0LmNsYXNzTGlzdC5hZGQoXCJhY3RpdmVcIik7XHJcbiAgICAgICAgXHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBkaXNwbGF5UHJvamVjdFRhc2tzKGUpe1xyXG4gICAgICAgIGNvbnN0IGFkZFRhc2tCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmFkZC10YXNrXCIpO1xyXG4gICAgICAgIGFkZFRhc2tCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcImhpZGRlblwiKTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIHVwZGF0ZUNvbnRlbnRUaXRsZShlKXtcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNvbnRlbnQtdGl0bGVcIikudGV4dENvbnRlbnQgPSBlLmN1cnJlbnRUYXJnZXQudGV4dENvbnRlbnQ7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiB1cGRhdGVTZWxlY3RlZFByb2plY3QoZSl7XHJcbiAgICAgICAgc2VsZWN0ZWRQcm9qZWN0ID0gZS5jdXJyZW50VGFyZ2V0LmRhdGFzZXQuaWQ7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJzZWxlY3RlZCBwcm9qZWN0IGlzIFwiICsgc2VsZWN0ZWRQcm9qZWN0KVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQge3NpZGViYXJQcm9qZWN0RnVuY3Rpb25hbGl0eSwgc2VsZWN0ZWRQcm9qZWN0fSIsImltcG9ydCB7cHJvamVjdHN9IGZyb20gXCIuL3Byb2plY3RMb2FkZXJcIlxyXG5pbXBvcnQge2xvYWRQcm9qZWN0c30gZnJvbSBcIi4vcHJvamVjdExvYWRlclwiXHJcbmltcG9ydCB7Y2xvc2VQcm9qZWN0Rm9ybX0gZnJvbSBcIi4vcHJvamVjdEZvcm1PcGVuZXJDbG9zZXJcIlxyXG5pbXBvcnQge3NlbGVjdGVkUHJvamVjdH0gZnJvbSBcIi4vc2lkZWJhclByb2plY3RMaXN0RnVuY3Rpb25hbGl0eVwiXHJcblxyXG5sZXQgZm9ybUVkaXQgPSBmYWxzZTtcclxuY29uc3QgZm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvamVjdC1mb3JtXCIpO1xyXG5mb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgYWRkVXBkYXRlUHJvamVjdCk7XHJcbmZ1bmN0aW9uIGFkZFVwZGF0ZVByb2plY3QoZSl7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBpZihmb3JtRWRpdCl7XHJcbiAgICAgICAgY29uc29sZS5sb2coc2VsZWN0ZWRQcm9qZWN0KVxyXG4gICAgICAgIHByb2plY3RzW3NlbGVjdGVkUHJvamVjdF0ucHJvamVjdFRpdGxlID0gZm9ybS5xdWVyeVNlbGVjdG9yKFwiLnByb2plY3QtZm9ybS1pbnB1dFwiKS52YWx1ZTtcclxuICAgICAgICBmb3JtRWRpdCA9IGZhbHNlO1xyXG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwicHJvamVjdHNfYnlfYmFoYVwiLOKAr0pTT04uc3RyaW5naWZ5KHByb2plY3RzKSk7XHJcbiAgICAgICAgbG9hZFByb2plY3RzKCk7XHJcbiAgICAgICAgY2xvc2VQcm9qZWN0Rm9ybSgpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBjb25zdCBwcm9qZWN0VGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2plY3QtZm9ybS1pbnB1dFwiKS52YWx1ZTtcclxuICAgICAgICBjb25zdCBuZXdQcm9qZWN0ID0gcHJvamVjdENyZWF0b3IocHJvamVjdFRpdGxlKTtcclxuICAgICAgICBwcm9qZWN0cy5wdXNoKG5ld1Byb2plY3QpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKHByb2plY3RzKTtcclxuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInByb2plY3RzX2J5X2JhaGFcIizigK9KU09OLnN0cmluZ2lmeShwcm9qZWN0cykpO1xyXG4gICAgICAgIHVwZGF0ZUlEcygpO1xyXG4gICAgICAgIGxvYWRQcm9qZWN0cygpO1xyXG4gICAgICAgIGNsb3NlUHJvamVjdEZvcm0oKTtcclxuICAgIH1cclxuXHJcbn1cclxuXHJcbmZ1bmN0aW9uIHByb2plY3RDcmVhdG9yKHByb2plY3RUaXRsZSl7XHJcbiAgICBjb25zb2xlLmxvZyhcImZhY3RvcnkgY2FsbGVkXCIpXHJcbiAgICBjb25zdCBpZCA9IHByb2plY3RzLmxlbmd0aDtcclxuICAgIHJldHVybiB7cHJvamVjdFRpdGxlLCBpZH07XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHVwZGF0ZUlEcygpe1xyXG4gICAgbGV0IGkgPSAwO1xyXG4gICAgcHJvamVjdHMuZm9yRWFjaChwcm9qZWN0ID0+IHtcclxuICAgICAgICBwcm9qZWN0LmlkID0gaTtcclxuICAgICAgICBpKys7XHJcbiAgICB9KVxyXG59XHJcblxyXG5leHBvcnQge2Zvcm0sIGZvcm1FZGl0LCBzZWxlY3RlZFByb2plY3QsIHVwZGF0ZUlEc30iLCJpbXBvcnQgeyB1cGRhdGVJRHMgfSBmcm9tIFwiLi9hZGRVcGRhdGVQcm9qZWN0XCI7XHJcbmltcG9ydCB7IHByb2plY3RzIH0gZnJvbSBcIi4vcHJvamVjdExvYWRlclwiO1xyXG5pbXBvcnQgeyBsb2FkUHJvamVjdHMgfSBmcm9tIFwiLi9wcm9qZWN0TG9hZGVyXCI7XHJcbmltcG9ydCB7IHNlbGVjdGVkUHJvamVjdCB9IGZyb20gXCIuL3NpZGViYXJQcm9qZWN0TGlzdEZ1bmN0aW9uYWxpdHlcIjtcclxuXHJcblxyXG5jb25zdCBkZWxldGVCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5kZWxldGUtYnV0dG9uXCIpO1xyXG5kZWxldGVCdXR0b25zLmZvckVhY2goYnV0dG9uID0+IGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZGVsZXRlVGhhdFByb2plY3QpKTtcclxuZnVuY3Rpb24gZGVsZXRlVGhhdFByb2plY3QoZSl7XHJcbiAgICBjb25zb2xlLmxvZyhzZWxlY3RlZFByb2plY3QpO1xyXG4gICAgY29uc3QgZGVjaXNpb24gPSBjb25maXJtKFwiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZSB0aGlzIHByb2plY3QgJiB0YXNrcyBpbnNpZGUgaXQ/XCIpO1xyXG4gICAgaWYoZGVjaXNpb24pe1xyXG4gICAgICAgIHByb2plY3RzLnNwbGljZShzZWxlY3RlZFByb2plY3QsIDEpO1xyXG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwicHJvamVjdHNfYnlfYmFoYVwiLCBKU09OLnN0cmluZ2lmeShwcm9qZWN0cykpO1xyXG4gICAgfVxyXG4gICAgdXBkYXRlSURzKCk7XHJcbiAgICBsb2FkUHJvamVjdHMoKTtcclxufVxyXG5cclxuZXhwb3J0IHsgZGVsZXRlVGhhdFByb2plY3QgfVxyXG4iLCJpbXBvcnQgeyBkZWxldGVUaGF0UHJvamVjdCB9IGZyb20gXCIuL2RlbGV0ZVByb2plY3RcIjtcclxuaW1wb3J0IHsgc2lkZWJhclByb2plY3RGdW5jdGlvbmFsaXR5IH0gZnJvbSBcIi4vc2lkZWJhclByb2plY3RMaXN0RnVuY3Rpb25hbGl0eVwiO1xyXG5pbXBvcnQgeyBzaWRlYmFyUHJvamVjdHNFZGl0IH0gZnJvbSBcIi4vc2lkZWJhclByb2plY3RFZGl0c1wiO1xyXG5cclxuY29uc3QgcHJvamVjdHMgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwicHJvamVjdHNfYnlfYmFoYVwiKSkgfHwgW107XHJcblxyXG5mdW5jdGlvbiBsb2FkUHJvamVjdHMoKXtcclxuICAgIGNvbnN0IHNpZGViYXJQcm9qZWN0Q29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9qZWN0c1wiKTtcclxuICAgIHNpZGViYXJQcm9qZWN0Q29udGFpbmVyLmlubmVySFRNTCA9IFwiXCI7XHJcbiAgICBwcm9qZWN0cy5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gICAgICAgIGNvbnN0IHByb2plY3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgICAgIHByb2plY3QuY2xhc3NMaXN0LmFkZChcInByb2plY3RcIik7XHJcbiAgICAgICAgcHJvamVjdC5kYXRhc2V0LmlkID0gaXRlbS5pZDtcclxuICAgICAgICBjb25zdCBwcm9qZWN0VGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgICAgIHByb2plY3RUaXRsZS5jbGFzc0xpc3QuYWRkKFwicHJvamVjdC10aXRsZVwiKTtcclxuICAgICAgICBwcm9qZWN0VGl0bGUudGV4dENvbnRlbnQgPSBpdGVtLnByb2plY3RUaXRsZTtcclxuICAgICAgICBjb25zdCBlZGl0QnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcclxuICAgICAgICBlZGl0QnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJtZW51LWljb25cIik7XHJcbiAgICAgICAgZWRpdEJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwiZWRpdC1idXR0b25cIik7XHJcbiAgICAgICAgZWRpdEJ1dHRvbi5zZXRBdHRyaWJ1dGUoXCJzcmNcIiwgXCIuLi9zcmMvaW1hZ2VzL2VkaXQucG5nXCIpO1xyXG4gICAgICAgIGNvbnN0IGRlbGV0ZUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XHJcbiAgICAgICAgZGVsZXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJtZW51LWljb25cIik7XHJcbiAgICAgICAgZGVsZXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJkZWxldGUtYnV0dG9uXCIpO1xyXG4gICAgICAgIGRlbGV0ZUJ1dHRvbi5zZXRBdHRyaWJ1dGUoXCJzcmNcIiwgXCIuLi9zcmMvaW1hZ2VzL2RlbGV0ZS5wbmdcIik7XHJcbiAgICAgICAgZGVsZXRlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBkZWxldGVUaGF0UHJvamVjdCk7XHJcbiAgICAgICAgcHJvamVjdC5hcHBlbmRDaGlsZChwcm9qZWN0VGl0bGUpO1xyXG4gICAgICAgIHByb2plY3QuYXBwZW5kQ2hpbGQoZWRpdEJ1dHRvbik7XHJcbiAgICAgICAgcHJvamVjdC5hcHBlbmRDaGlsZChkZWxldGVCdXR0b24pO1xyXG4gICAgICAgIHNpZGViYXJQcm9qZWN0Q29udGFpbmVyLmFwcGVuZENoaWxkKHByb2plY3QpO1xyXG4gICAgfSlcclxuICAgIHNpZGViYXJQcm9qZWN0RnVuY3Rpb25hbGl0eSgpO1xyXG4gICAgc2lkZWJhclByb2plY3RzRWRpdCgpO1xyXG59XHJcblxyXG5leHBvcnQge2xvYWRQcm9qZWN0cywgcHJvamVjdHN9IiwiaW1wb3J0IHtmb3JtRWRpdH0gZnJvbSBcIi4vYWRkVXBkYXRlUHJvamVjdFwiXHJcbmltcG9ydCB7IG9wZW5Qcm9qZWN0Rm9ybSB9IGZyb20gXCIuL3Byb2plY3RGb3JtT3BlbmVyQ2xvc2VyXCI7XHJcbmltcG9ydCB7Zm9ybX0gZnJvbSBcIi4vYWRkVXBkYXRlUHJvamVjdFwiXHJcblxyXG5sZXQgc2VsZWN0ZWRQcm9qZWN0ID0gXCJcIjtcclxuZnVuY3Rpb24gc2lkZWJhclByb2plY3RzRWRpdCgpe1xyXG4gICAgY29uc3QgZWRpdEJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmVkaXQtYnV0dG9uXCIpO1xyXG4gICAgZWRpdEJ1dHRvbnMuZm9yRWFjaChidXR0b24gPT4gYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB2aWV3UHJvamVjdEVkaXRGb3JtKSk7XHJcbiAgICBmdW5jdGlvbiB2aWV3UHJvamVjdEVkaXRGb3JtKGUpe1xyXG4gICAgICAgIG9wZW5Qcm9qZWN0Rm9ybSgpO1xyXG4gICAgICAgIGZvcm1FZGl0ID0gdHJ1ZTtcclxuICAgICAgICBmb3JtLnF1ZXJ5U2VsZWN0b3IoXCIucHJvamVjdC1mb3JtLWlucHV0XCIpLnZhbHVlID0gZS50YXJnZXQucGFyZW50Tm9kZS50ZXh0Q29udGVudDtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IHtzaWRlYmFyUHJvamVjdHNFZGl0fSIsImltcG9ydCB7IHNlbGVjdGVkUHJvamVjdCB9IGZyb20gXCIuL3NpZGViYXJQcm9qZWN0TGlzdEZ1bmN0aW9uYWxpdHlcIjtcclxuXHJcbmNvbnN0IGFkZFRhc2tCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmFkZC10YXNrXCIpO1xyXG5hZGRUYXNrQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBjcmVhdGVUYXNrKVxyXG5cclxuZnVuY3Rpb24gY3JlYXRlVGFzaygpe1xyXG4gICAgY29uc29sZS5sb2coc2VsZWN0ZWRQcm9qZWN0KVxyXG59XHJcblxyXG5leHBvcnQge2FkZFRhc2tCdXR0b259IiwiaW1wb3J0IHsgc2lkZWJhck9wZW5lciB9IGZyb20gXCIuL3NpZGViYXJPcGVuZXJcIjtcbmltcG9ydCB7IGxvYWRQcm9qZWN0cyB9IGZyb20gXCIuL3Byb2plY3RMb2FkZXJcIjtcbmltcG9ydCB7Zm9ybUVkaXQsIHNlbGVjdGVkUHJvamVjdH0gZnJvbSBcIi4vYWRkVXBkYXRlUHJvamVjdFwiXG5pbXBvcnQge2FkZFRhc2tCdXR0b259IGZyb20gXCIuL3Rhc2tDcmVhdG9yXCJcblxubG9hZFByb2plY3RzKCk7XG5cbi8vIGV4cG9ydCB7Zm9ybUVkaXQsIHNlbGVjdGVkUHJvamVjdH0iXSwibmFtZXMiOlsic2lkZWJhciIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInNpZGViYXJPcGVuZXIiLCJtYWluIiwic2lkZWJhclNob3duIiwib3BlblByb2plY3RGb3JtIiwiY2xvc2VQcm9qZWN0Rm9ybSIsInZhbHVlIiwiYWRkRXZlbnRMaXN0ZW5lciIsInN0eWxlIiwiZGlzcGxheSIsImdyaWRUZW1wbGF0ZUNvbHVtbnMiLCJtZW51YnV0dG9ucyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJjb250ZW50VGl0bGUiLCJmb3JFYWNoIiwiYnV0dG9uIiwiZSIsImNsYXNzTGlzdCIsInJlbW92ZSIsInByb2plY3QiLCJ0YXJnZXQiLCJhZGQiLCJzZWxlY3RCdXR0b24iLCJ0ZXh0Q29udGVudCIsInVwZGF0ZUNvbnRlbnRUaXRsZSIsInNlbGVjdGVkUHJvamVjdCIsImZvcm1FZGl0IiwidXBkYXRlSURzIiwiaSIsInByb2plY3RzIiwiaWQiLCJkZWxldGVUaGF0UHJvamVjdCIsImNvbnNvbGUiLCJsb2ciLCJjb25maXJtIiwic3BsaWNlIiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsIkpTT04iLCJzdHJpbmdpZnkiLCJsb2FkUHJvamVjdHMiLCJwcmV2ZW50RGVmYXVsdCIsInByb2plY3RUaXRsZSIsIm5ld1Byb2plY3QiLCJsZW5ndGgiLCJwcm9qZWN0Q3JlYXRvciIsInB1c2giLCJwYXJzZSIsImdldEl0ZW0iLCJzaWRlYmFyUHJvamVjdENvbnRhaW5lciIsImlubmVySFRNTCIsIml0ZW0iLCJjcmVhdGVFbGVtZW50IiwiZGF0YXNldCIsImVkaXRCdXR0b24iLCJzZXRBdHRyaWJ1dGUiLCJkZWxldGVCdXR0b24iLCJhcHBlbmRDaGlsZCIsInNpZGViYXJQcm9qZWN0cyIsImN1cnJlbnRUYXJnZXQiLCJoaWdobGlnaHRQcm9qZWN0IiwidXBkYXRlU2VsZWN0ZWRQcm9qZWN0Iiwic2lkZWJhclByb2plY3RGdW5jdGlvbmFsaXR5Iiwidmlld1Byb2plY3RFZGl0Rm9ybSIsInBhcmVudE5vZGUiLCJzaWRlYmFyUHJvamVjdHNFZGl0Il0sInNvdXJjZVJvb3QiOiIifQ==