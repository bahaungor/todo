(()=>{"use strict";var e={d:(t,o)=>{for(var c in o)e.o(o,c)&&!e.o(t,c)&&Object.defineProperty(t,c,{enumerable:!0,get:o[c]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};e.d({},{a:()=>p});const t=document.querySelector(".sidebar"),o=document.querySelector(".side-menu-opener"),c=document.querySelector(".main");let n=!0;function r(e){console.log(p),confirm("Are you sure you want to delete this project & tasks inside it?")&&(l.splice(p,1),localStorage.setItem("projects_by_baha",JSON.stringify(l)),loadProjects())}o.addEventListener("click",(function(){n?(t.style.display="none",c.style.gridTemplateColumns="1fr",n=!1):(t.style.display="block",c.style.gridTemplateColumns="350px 1fr",n=!0)})),document.querySelectorAll(".delete-button").forEach((e=>e.addEventListener("click",r)));const l=JSON.parse(localStorage.getItem("projects_by_baha"))||[];function s(){const e=document.querySelector(".projects");e.innerHTML="",l.forEach((t=>{const o=document.createElement("div");o.classList.add("project"),o.dataset.id=t.id;const c=document.createElement("div");c.classList.add("project-title"),c.textContent=t.projectTitle;const n=document.createElement("img");n.classList.add("menu-icon"),n.classList.add("edit-button"),n.setAttribute("src","../src/images/edit.png");const l=document.createElement("img");l.classList.add("menu-icon"),l.classList.add("delete-button"),l.setAttribute("src","../src/images/delete.png"),l.addEventListener("click",r),o.appendChild(c),o.appendChild(n),o.appendChild(l),e.appendChild(o)})),function(){const e=document.querySelectorAll(".project");e.forEach((t=>t.addEventListener("click",(t=>{!function(t){e.forEach((e=>e.classList.remove("active"))),t.currentTarget.classList.add("active"),p=t.currentTarget.dataset.id}(t),document.querySelector(".add-task").classList.remove("hidden"),function(e){document.querySelector(".content-title").textContent=e.currentTarget.textContent}(t)}))))}(),function(){function e(e){openProjectForm(),formEdit=!0,form.querySelector(".project-form-input").value=e.target.parentNode.textContent}document.querySelectorAll(".edit-button").forEach((t=>t.addEventListener("click",e)))}()}s();const a=document.querySelectorAll(".sidebar-item"),i=document.querySelector(".content-title");a.forEach((e=>e.addEventListener("click",(e=>{!function(e){a.forEach((e=>e.classList.remove("active"))),e.target.classList.add("active")}(e),function(e){i.textContent="",i.textContent=e.target.textContent,document.querySelector(".add-task").classList.add("hidden")}(e),listTaks(e)}))));const d=document.querySelector(".project-form");function u(){document.querySelector(".project-form-input").value="",d.style.display="none"}document.querySelector(".add-button").addEventListener("click",(function(){d.style.display="flex"})),document.querySelector(".project-form-button.cancel").addEventListener("click",u);let m=!1,p="";d.addEventListener("submit",(function(e){if(e.preventDefault(),m)l[p].projectTitle=d.querySelector(".project-form-input").value,m=!1,localStorage.setItem("projects_by_baha",JSON.stringify(l)),s(),u();else{const e=function(e){console.log("factory called");return{projectTitle:e,id:l.length}}(document.querySelector(".project-form-input").value);l.push(e),console.log(l),localStorage.setItem("projects_by_baha",JSON.stringify(l)),s(),u()}}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFjLHVCQUF1Qm1ELE9BRW5FekMsRUFBU3NELEtBQUtILEdBQ2R2RCxRQUFRQyxJQUFJRyxHQUNaRSxhQUFhQyxRQUFRLG1CQUFvQkMsS0FBS0MsVUFBVUwsSUFDeEQsSUFDQWlELFMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8xNS4tdG9kby1saXN0L3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovLzE1Li10b2RvLWxpc3Qvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovLzE1Li10b2RvLWxpc3Qvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly8xNS4tdG9kby1saXN0Ly4vc3JjL3NpZGViYXJPcGVuZXIuanMiLCJ3ZWJwYWNrOi8vMTUuLXRvZG8tbGlzdC8uL3NyYy9kZWxldGVQcm9qZWN0LmpzIiwid2VicGFjazovLzE1Li10b2RvLWxpc3QvLi9zcmMvcHJvamVjdExvYWRlci5qcyIsIndlYnBhY2s6Ly8xNS4tdG9kby1saXN0Ly4vc3JjL3NpZGViYXJQcm9qZWN0TGlzdEZ1bmN0aW9uYWxpdHkuanMiLCJ3ZWJwYWNrOi8vMTUuLXRvZG8tbGlzdC8uL3NyYy9zaWRlYmFyUHJvamVjdEVkaXRzLmpzIiwid2VicGFjazovLzE1Li10b2RvLWxpc3QvLi9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVGhlIHJlcXVpcmUgc2NvcGVcbnZhciBfX3dlYnBhY2tfcmVxdWlyZV9fID0ge307XG5cbiIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCJjb25zdCBzaWRlYmFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zaWRlYmFyXCIpO1xyXG5jb25zdCBzaWRlYmFyT3BlbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zaWRlLW1lbnUtb3BlbmVyXCIpO1xyXG5jb25zdCBtYWluID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tYWluXCIpO1xyXG5sZXQgc2lkZWJhclNob3duID0gdHJ1ZTtcclxuc2lkZWJhck9wZW5lci5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdG9nZ2xlU2lkZWJhcik7XHJcbmZ1bmN0aW9uIHRvZ2dsZVNpZGViYXIoKXtcclxuICAgIGlmKHNpZGViYXJTaG93bil7XHJcbiAgICAgICAgc2lkZWJhci5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICAgICAgbWFpbi5zdHlsZS5ncmlkVGVtcGxhdGVDb2x1bW5zID0gXCIxZnJcIjtcclxuICAgICAgICBzaWRlYmFyU2hvd24gPSBmYWxzZTtcclxuICAgIH0gZWxzZXtcclxuICAgICAgICBzaWRlYmFyLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XHJcbiAgICAgICAgbWFpbi5zdHlsZS5ncmlkVGVtcGxhdGVDb2x1bW5zID0gXCIzNTBweCAxZnJcIjtcclxuICAgICAgICBzaWRlYmFyU2hvd24gPSB0cnVlO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQge3NpZGViYXJPcGVuZXJ9IiwiaW1wb3J0IHsgcHJvamVjdHMgfSBmcm9tIFwiLi9wcm9qZWN0TG9hZGVyXCI7XHJcbmltcG9ydCB7IHNlbGVjdGVkUHJvamVjdCB9IGZyb20gXCIuXCI7XHJcblxyXG5jb25zdCBkZWxldGVCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5kZWxldGUtYnV0dG9uXCIpO1xyXG5kZWxldGVCdXR0b25zLmZvckVhY2goYnV0dG9uID0+IGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZGVsZXRlVGhhdFByb2plY3QpKTtcclxuZnVuY3Rpb24gZGVsZXRlVGhhdFByb2plY3QoZSl7XHJcbiAgICBjb25zb2xlLmxvZyhzZWxlY3RlZFByb2plY3QpO1xyXG4gICAgY29uc3QgZGVjaXNpb24gPSBjb25maXJtKFwiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZSB0aGlzIHByb2plY3QgJiB0YXNrcyBpbnNpZGUgaXQ/XCIpO1xyXG4gICAgaWYoZGVjaXNpb24pe1xyXG4gICAgICAgIHByb2plY3RzLnNwbGljZShzZWxlY3RlZFByb2plY3QsIDEpO1xyXG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwicHJvamVjdHNfYnlfYmFoYVwiLCBKU09OLnN0cmluZ2lmeShwcm9qZWN0cykpO1xyXG4gICAgICAgIGxvYWRQcm9qZWN0cygpO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgeyBkZWxldGVUaGF0UHJvamVjdCB9XHJcbiIsImltcG9ydCB7IGRlbGV0ZVRoYXRQcm9qZWN0IH0gZnJvbSBcIi4vZGVsZXRlUHJvamVjdFwiO1xyXG5pbXBvcnQgeyBzaWRlYmFyUHJvamVjdEZ1bmN0aW9uYWxpdHkgfSBmcm9tIFwiLi9zaWRlYmFyUHJvamVjdExpc3RGdW5jdGlvbmFsaXR5XCI7XHJcbmltcG9ydCB7IHNpZGViYXJQcm9qZWN0c0VkaXQgfSBmcm9tIFwiLi9zaWRlYmFyUHJvamVjdEVkaXRzXCI7XHJcblxyXG5jb25zdCBwcm9qZWN0cyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJwcm9qZWN0c19ieV9iYWhhXCIpKSB8fCBbXTtcclxuXHJcbmZ1bmN0aW9uIGxvYWRQcm9qZWN0cygpe1xyXG4gICAgY29uc3Qgc2lkZWJhclByb2plY3RDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2plY3RzXCIpO1xyXG4gICAgc2lkZWJhclByb2plY3RDb250YWluZXIuaW5uZXJIVE1MID0gXCJcIjtcclxuICAgIHByb2plY3RzLmZvckVhY2goaXRlbSA9PiB7XHJcbiAgICAgICAgY29uc3QgcHJvamVjdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICAgICAgcHJvamVjdC5jbGFzc0xpc3QuYWRkKFwicHJvamVjdFwiKTtcclxuICAgICAgICBwcm9qZWN0LmRhdGFzZXQuaWQgPSBpdGVtLmlkO1xyXG4gICAgICAgIGNvbnN0IHByb2plY3RUaXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICAgICAgcHJvamVjdFRpdGxlLmNsYXNzTGlzdC5hZGQoXCJwcm9qZWN0LXRpdGxlXCIpO1xyXG4gICAgICAgIHByb2plY3RUaXRsZS50ZXh0Q29udGVudCA9IGl0ZW0ucHJvamVjdFRpdGxlO1xyXG4gICAgICAgIGNvbnN0IGVkaXRCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xyXG4gICAgICAgIGVkaXRCdXR0b24uY2xhc3NMaXN0LmFkZChcIm1lbnUtaWNvblwiKTtcclxuICAgICAgICBlZGl0QnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJlZGl0LWJ1dHRvblwiKTtcclxuICAgICAgICBlZGl0QnV0dG9uLnNldEF0dHJpYnV0ZShcInNyY1wiLCBcIi4uL3NyYy9pbWFnZXMvZWRpdC5wbmdcIik7XHJcbiAgICAgICAgY29uc3QgZGVsZXRlQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcclxuICAgICAgICBkZWxldGVCdXR0b24uY2xhc3NMaXN0LmFkZChcIm1lbnUtaWNvblwiKTtcclxuICAgICAgICBkZWxldGVCdXR0b24uY2xhc3NMaXN0LmFkZChcImRlbGV0ZS1idXR0b25cIik7XHJcbiAgICAgICAgZGVsZXRlQnV0dG9uLnNldEF0dHJpYnV0ZShcInNyY1wiLCBcIi4uL3NyYy9pbWFnZXMvZGVsZXRlLnBuZ1wiKTtcclxuICAgICAgICBkZWxldGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGRlbGV0ZVRoYXRQcm9qZWN0KTtcclxuICAgICAgICBwcm9qZWN0LmFwcGVuZENoaWxkKHByb2plY3RUaXRsZSk7XHJcbiAgICAgICAgcHJvamVjdC5hcHBlbmRDaGlsZChlZGl0QnV0dG9uKTtcclxuICAgICAgICBwcm9qZWN0LmFwcGVuZENoaWxkKGRlbGV0ZUJ1dHRvbik7XHJcbiAgICAgICAgc2lkZWJhclByb2plY3RDb250YWluZXIuYXBwZW5kQ2hpbGQocHJvamVjdCk7XHJcbiAgICB9KVxyXG4gICAgc2lkZWJhclByb2plY3RGdW5jdGlvbmFsaXR5KCk7XHJcbiAgICBzaWRlYmFyUHJvamVjdHNFZGl0KCk7XHJcbn1cclxuXHJcbmV4cG9ydCB7bG9hZFByb2plY3RzLCBwcm9qZWN0c30iLCJpbXBvcnQgeyBzZWxlY3RlZFByb2plY3QgfSBmcm9tIFwiLlwiO1xyXG5cclxuZnVuY3Rpb24gc2lkZWJhclByb2plY3RGdW5jdGlvbmFsaXR5KCl7XHJcbiAgICBjb25zdCBzaWRlYmFyUHJvamVjdHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnByb2plY3RcIik7XHJcbiAgICBzaWRlYmFyUHJvamVjdHMuZm9yRWFjaChwcm9qZWN0ID0+IHByb2plY3QuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XHJcbiAgICAgICAgc2VsZWN0UHJvamVjdChlKTtcclxuICAgICAgICBkaXNwbGF5UHJvamVjdFRhc2tzKGUpO1xyXG4gICAgICAgIHVwZGF0ZUNvbnRlbnRUaXRsZShlKTtcclxuICAgIH0pKTtcclxuICAgIGZ1bmN0aW9uIHNlbGVjdFByb2plY3QoZSl7XHJcbiAgICAgICAgc2lkZWJhclByb2plY3RzLmZvckVhY2gocHJvamVjdCA9PiBwcm9qZWN0LmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIikpO1xyXG4gICAgICAgIGUuY3VycmVudFRhcmdldC5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlXCIpO1xyXG4gICAgICAgIHNlbGVjdGVkUHJvamVjdCA9IGUuY3VycmVudFRhcmdldC5kYXRhc2V0LmlkO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gZGlzcGxheVByb2plY3RUYXNrcyhlKXtcclxuICAgICAgICBjb25zdCBhZGRUYXNrQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hZGQtdGFza1wiKTtcclxuICAgICAgICBhZGRUYXNrQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJoaWRkZW5cIik7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiB1cGRhdGVDb250ZW50VGl0bGUoZSl7XHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jb250ZW50LXRpdGxlXCIpLnRleHRDb250ZW50ID0gZS5jdXJyZW50VGFyZ2V0LnRleHRDb250ZW50O1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQge3NpZGViYXJQcm9qZWN0RnVuY3Rpb25hbGl0eX0iLCJpbXBvcnQgeyBmb3JtRWRpdCB9IGZyb20gXCIuXCI7XHJcblxyXG5mdW5jdGlvbiBzaWRlYmFyUHJvamVjdHNFZGl0KCl7XHJcbiAgICBjb25zdCBlZGl0QnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZWRpdC1idXR0b25cIik7XHJcbiAgICBlZGl0QnV0dG9ucy5mb3JFYWNoKGJ1dHRvbiA9PiBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHZpZXdQcm9qZWN0RWRpdEZvcm0pKTtcclxuICAgIGZ1bmN0aW9uIHZpZXdQcm9qZWN0RWRpdEZvcm0oZSl7XHJcbiAgICAgICAgb3BlblByb2plY3RGb3JtKCk7XHJcbiAgICAgICAgZm9ybUVkaXQgPSB0cnVlO1xyXG4gICAgICAgIGZvcm0ucXVlcnlTZWxlY3RvcihcIi5wcm9qZWN0LWZvcm0taW5wdXRcIikudmFsdWUgPSBlLnRhcmdldC5wYXJlbnROb2RlLnRleHRDb250ZW50O1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQge3NpZGViYXJQcm9qZWN0c0VkaXQsIGZvcm1FZGl0fSIsImltcG9ydCB7IHNpZGViYXJPcGVuZXIgfSBmcm9tIFwiLi9zaWRlYmFyT3BlbmVyXCI7XG5pbXBvcnQgeyBsb2FkUHJvamVjdHMscHJvamVjdHMgfSBmcm9tIFwiLi9wcm9qZWN0TG9hZGVyXCI7XG5cbmxvYWRQcm9qZWN0cygpO1xuXG5jb25zdCBtZW51YnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuc2lkZWJhci1pdGVtXCIpO1xuY29uc3QgY29udGVudFRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jb250ZW50LXRpdGxlXCIpO1xubWVudWJ1dHRvbnMuZm9yRWFjaChidXR0b24gPT4gYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xuICAgIHNlbGVjdEJ1dHRvbihlKTtcbiAgICB1cGRhdGVDb250ZW50VGl0bGUoZSk7XG4gICAgbGlzdFRha3MoZSk7XG59KSk7XG5mdW5jdGlvbiBzZWxlY3RCdXR0b24oZSl7XG4gICAgbWVudWJ1dHRvbnMuZm9yRWFjaChidXR0b24gPT4gYnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIikpO1xuICAgIGUudGFyZ2V0LmNsYXNzTGlzdC5hZGQoXCJhY3RpdmVcIik7XG59XG5mdW5jdGlvbiB1cGRhdGVDb250ZW50VGl0bGUoZSl7XG4gICAgY29udGVudFRpdGxlLnRleHRDb250ZW50ID0gXCJcIjtcbiAgICBjb250ZW50VGl0bGUudGV4dENvbnRlbnQgPSBlLnRhcmdldC50ZXh0Q29udGVudDtcbiAgICBjb25zdCBhZGRUYXNrQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hZGQtdGFza1wiKTtcbiAgICBhZGRUYXNrQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJoaWRkZW5cIik7XG59XG5cbmNvbnN0IGZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2plY3QtZm9ybVwiKTtcbmNvbnN0IGFkZFByb2plY3RCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmFkZC1idXR0b25cIik7XG5hZGRQcm9qZWN0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBvcGVuUHJvamVjdEZvcm0pO1xuZnVuY3Rpb24gb3BlblByb2plY3RGb3JtKCl7XG4gICAgZm9ybS5zdHlsZS5kaXNwbGF5ID0gXCJmbGV4XCI7XG59XG5cbmNvbnN0IGNhbmNlbEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvamVjdC1mb3JtLWJ1dHRvbi5jYW5jZWxcIik7XG5jYW5jZWxCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGNsb3NlUHJvamVjdEZvcm0pO1xuZnVuY3Rpb24gY2xvc2VQcm9qZWN0Rm9ybSgpe1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvamVjdC1mb3JtLWlucHV0XCIpLnZhbHVlID0gXCJcIjtcbiAgICBmb3JtLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbn1cblxubGV0IGZvcm1FZGl0ID0gZmFsc2U7XG5sZXQgc2VsZWN0ZWRQcm9qZWN0ID0gXCJcIjtcbmZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCBhZGRVcGRhdGVQcm9qZWN0KTtcbmZ1bmN0aW9uIGFkZFVwZGF0ZVByb2plY3QoZSl7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGlmKGZvcm1FZGl0KXtcbiAgICAgICAgcHJvamVjdHNbc2VsZWN0ZWRQcm9qZWN0XS5wcm9qZWN0VGl0bGUgPSBmb3JtLnF1ZXJ5U2VsZWN0b3IoXCIucHJvamVjdC1mb3JtLWlucHV0XCIpLnZhbHVlO1xuICAgICAgICBmb3JtRWRpdCA9IGZhbHNlO1xuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInByb2plY3RzX2J5X2JhaGFcIizigK9KU09OLnN0cmluZ2lmeShwcm9qZWN0cykpO1xuICAgICAgICBsb2FkUHJvamVjdHMoKTtcbiAgICAgICAgY2xvc2VQcm9qZWN0Rm9ybSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IHByb2plY3RUaXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvamVjdC1mb3JtLWlucHV0XCIpLnZhbHVlO1xuICAgICAgICBjb25zdCBuZXdQcm9qZWN0ID0gcHJvamVjdENyZWF0b3IocHJvamVjdFRpdGxlKTtcbiAgICAgICAgcHJvamVjdHMucHVzaChuZXdQcm9qZWN0KTtcbiAgICAgICAgY29uc29sZS5sb2cocHJvamVjdHMpO1xuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInByb2plY3RzX2J5X2JhaGFcIizigK9KU09OLnN0cmluZ2lmeShwcm9qZWN0cykpO1xuICAgICAgICBsb2FkUHJvamVjdHMoKTtcbiAgICAgICAgY2xvc2VQcm9qZWN0Rm9ybSgpO1xuICAgIH1cblxufVxuXG5mdW5jdGlvbiBwcm9qZWN0Q3JlYXRvcihwcm9qZWN0VGl0bGUpe1xuICAgIGNvbnNvbGUubG9nKFwiZmFjdG9yeSBjYWxsZWRcIilcbiAgICBjb25zdCBpZCA9IHByb2plY3RzLmxlbmd0aDtcbiAgICByZXR1cm4ge3Byb2plY3RUaXRsZSwgaWR9O1xufVxuXG4vLyBjb25zdCBkZWxldGVCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5kZWxldGUtYnV0dG9uXCIpO1xuLy8gZGVsZXRlQnV0dG9ucy5mb3JFYWNoKGJ1dHRvbiA9PiBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGRlbGV0ZVRoYXRQcm9qZWN0KSk7XG4vLyBmdW5jdGlvbiBkZWxldGVUaGF0UHJvamVjdChlKXtcbi8vICAgICBjb25zdCBkZWNpc2lvbiA9IGNvbmZpcm0oXCJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlIHRoaXMgcHJvamVjdCAmIHRhc2tzIGluc2lkZSBpdD9cIik7XG4vLyAgICAgaWYoZGVjaXNpb24pe1xuLy8gICAgICAgICBwcm9qZWN0cy5zcGxpY2Uoc2VsZWN0ZWRQcm9qZWN0LCAxKTtcbi8vICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJwcm9qZWN0c19ieV9iYWhhXCIsIEpTT04uc3RyaW5naWZ5KHByb2plY3RzKSk7XG4vLyAgICAgICAgIGxvYWRQcm9qZWN0cygpO1xuLy8gICAgIH1cbi8vIH1cblxuZXhwb3J0IHtmb3JtRWRpdCwgc2VsZWN0ZWRQcm9qZWN0fSJdLCJuYW1lcyI6WyJfX3dlYnBhY2tfcmVxdWlyZV9fIiwiZXhwb3J0cyIsImRlZmluaXRpb24iLCJrZXkiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0Iiwib2JqIiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsInNpZGViYXIiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJzaWRlYmFyT3BlbmVyIiwibWFpbiIsInNpZGViYXJTaG93biIsImRlbGV0ZVRoYXRQcm9qZWN0IiwiZSIsImNvbnNvbGUiLCJsb2ciLCJzZWxlY3RlZFByb2plY3QiLCJjb25maXJtIiwicHJvamVjdHMiLCJzcGxpY2UiLCJsb2NhbFN0b3JhZ2UiLCJzZXRJdGVtIiwiSlNPTiIsInN0cmluZ2lmeSIsImxvYWRQcm9qZWN0cyIsImFkZEV2ZW50TGlzdGVuZXIiLCJzdHlsZSIsImRpc3BsYXkiLCJncmlkVGVtcGxhdGVDb2x1bW5zIiwicXVlcnlTZWxlY3RvckFsbCIsImZvckVhY2giLCJidXR0b24iLCJwYXJzZSIsImdldEl0ZW0iLCJzaWRlYmFyUHJvamVjdENvbnRhaW5lciIsImlubmVySFRNTCIsIml0ZW0iLCJwcm9qZWN0IiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTGlzdCIsImFkZCIsImRhdGFzZXQiLCJpZCIsInByb2plY3RUaXRsZSIsInRleHRDb250ZW50IiwiZWRpdEJ1dHRvbiIsInNldEF0dHJpYnV0ZSIsImRlbGV0ZUJ1dHRvbiIsImFwcGVuZENoaWxkIiwic2lkZWJhclByb2plY3RzIiwicmVtb3ZlIiwiY3VycmVudFRhcmdldCIsInNlbGVjdFByb2plY3QiLCJ1cGRhdGVDb250ZW50VGl0bGUiLCJzaWRlYmFyUHJvamVjdEZ1bmN0aW9uYWxpdHkiLCJ2aWV3UHJvamVjdEVkaXRGb3JtIiwib3BlblByb2plY3RGb3JtIiwiZm9ybUVkaXQiLCJmb3JtIiwidmFsdWUiLCJ0YXJnZXQiLCJwYXJlbnROb2RlIiwic2lkZWJhclByb2plY3RzRWRpdCIsIm1lbnVidXR0b25zIiwiY29udGVudFRpdGxlIiwic2VsZWN0QnV0dG9uIiwibGlzdFRha3MiLCJjbG9zZVByb2plY3RGb3JtIiwicHJldmVudERlZmF1bHQiLCJuZXdQcm9qZWN0IiwibGVuZ3RoIiwicHJvamVjdENyZWF0b3IiLCJwdXNoIl0sInNvdXJjZVJvb3QiOiIifQ==