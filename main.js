(()=>{"use strict";var e={d:(t,o)=>{for(var c in o)e.o(o,c)&&!e.o(t,c)&&Object.defineProperty(t,c,{enumerable:!0,get:o[c]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};e.d({},{a:()=>p});const t=document.querySelector(".sidebar"),o=document.querySelector(".side-menu-opener"),c=document.querySelector(".main");let n=!0;function r(e){console.log(p),confirm("Are you sure you want to delete this project & tasks inside it?")&&(l.splice(p,1),localStorage.setItem("projects_by_baha",JSON.stringify(l)),loadProjects())}o.addEventListener("click",(function(){n?(t.style.display="none",c.style.gridTemplateColumns="1fr",n=!1):(t.style.display="block",c.style.gridTemplateColumns="350px 1fr",n=!0)})),document.querySelectorAll(".delete-button").forEach((e=>e.addEventListener("click",r)));const l=JSON.parse(localStorage.getItem("projects_by_baha"))||[];function s(){const e=document.querySelector(".projects");e.innerHTML="",l.forEach((t=>{const o=document.createElement("div");o.classList.add("project"),o.dataset.id=t.id;const c=document.createElement("div");c.classList.add("project-title"),c.textContent=t.projectTitle;const n=document.createElement("img");n.classList.add("menu-icon"),n.classList.add("edit-button"),n.setAttribute("src","../src/images/edit.png");const l=document.createElement("img");l.classList.add("menu-icon"),l.classList.add("delete-button"),l.setAttribute("src","../src/images/delete.png"),l.addEventListener("click",r),o.appendChild(c),o.appendChild(n),o.appendChild(l),e.appendChild(o)})),function(){const e=document.querySelectorAll(".project");e.forEach((t=>t.addEventListener("click",(t=>{!function(t){e.forEach((e=>e.classList.remove("active"))),t.currentTarget.classList.add("active"),p=t.currentTarget.dataset.id}(t),document.querySelector(".add-task").classList.remove("hidden"),function(e){document.querySelector(".content-title").textContent=e.currentTarget.textContent}(t)}))))}(),function(){function e(e){openProjectForm(),formEdit=!0,form.querySelector(".project-form-input").value=e.target.parentNode.textContent}document.querySelectorAll(".edit-button").forEach((t=>t.addEventListener("click",e)))}()}const a=document.querySelectorAll(".sidebar-item"),i=document.querySelector(".content-title");a.forEach((e=>e.addEventListener("click",(e=>{!function(e){a.forEach((e=>e.classList.remove("active"))),e.target.classList.add("active")}(e),function(e){i.textContent="",i.textContent=e.target.textContent,document.querySelector(".add-task").classList.add("hidden")}(e),listTaks(e)})))),s();const d=document.querySelector(".project-form");function u(){document.querySelector(".project-form-input").value="",d.style.display="none"}document.querySelector(".add-button").addEventListener("click",(function(){d.style.display="flex"})),document.querySelector(".project-form-button.cancel").addEventListener("click",u);let m=!1,p="";d.addEventListener("submit",(function(e){if(e.preventDefault(),m)l[p].projectTitle=d.querySelector(".project-form-input").value,m=!1,localStorage.setItem("projects_by_baha",JSON.stringify(l)),s(),u();else{const e=function(e){console.log("factory called");return{projectTitle:e,id:l.length}}(document.querySelector(".project-form-input").value);l.push(e),console.log(l),localStorage.setItem("projects_by_baha",JSON.stringify(l)),s(),u()}}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFjLHVCQUF1Qm1ELE9BRW5FekMsRUFBU3NELEtBQUtILEdBQ2R2RCxRQUFRQyxJQUFJRyxHQUNaRSxhQUFhQyxRQUFRLG1CQUFvQkMsS0FBS0MsVUFBVUwsSUFDeEQsSUFDQWlELFMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8xNS4tdG9kby1saXN0L3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovLzE1Li10b2RvLWxpc3Qvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovLzE1Li10b2RvLWxpc3Qvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly8xNS4tdG9kby1saXN0Ly4vc3JjL3NpZGViYXJPcGVuZXIuanMiLCJ3ZWJwYWNrOi8vMTUuLXRvZG8tbGlzdC8uL3NyYy9kZWxldGVQcm9qZWN0LmpzIiwid2VicGFjazovLzE1Li10b2RvLWxpc3QvLi9zcmMvcHJvamVjdExvYWRlci5qcyIsIndlYnBhY2s6Ly8xNS4tdG9kby1saXN0Ly4vc3JjL3NpZGViYXJQcm9qZWN0TGlzdEZ1bmN0aW9uYWxpdHkuanMiLCJ3ZWJwYWNrOi8vMTUuLXRvZG8tbGlzdC8uL3NyYy9zaWRlYmFyUHJvamVjdEVkaXRzLmpzIiwid2VicGFjazovLzE1Li10b2RvLWxpc3QvLi9zcmMvaG9tZUJ1dHRvbnNGdW5jdGlvbnMuanMiLCJ3ZWJwYWNrOi8vMTUuLXRvZG8tbGlzdC8uL3NyYy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUaGUgcmVxdWlyZSBzY29wZVxudmFyIF9fd2VicGFja19yZXF1aXJlX18gPSB7fTtcblxuIiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsImNvbnN0IHNpZGViYXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnNpZGViYXJcIik7XHJcbmNvbnN0IHNpZGViYXJPcGVuZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnNpZGUtbWVudS1vcGVuZXJcIik7XHJcbmNvbnN0IG1haW4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1haW5cIik7XHJcbmxldCBzaWRlYmFyU2hvd24gPSB0cnVlO1xyXG5zaWRlYmFyT3BlbmVyLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0b2dnbGVTaWRlYmFyKTtcclxuZnVuY3Rpb24gdG9nZ2xlU2lkZWJhcigpe1xyXG4gICAgaWYoc2lkZWJhclNob3duKXtcclxuICAgICAgICBzaWRlYmFyLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgICAgICBtYWluLnN0eWxlLmdyaWRUZW1wbGF0ZUNvbHVtbnMgPSBcIjFmclwiO1xyXG4gICAgICAgIHNpZGViYXJTaG93biA9IGZhbHNlO1xyXG4gICAgfSBlbHNle1xyXG4gICAgICAgIHNpZGViYXIuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcclxuICAgICAgICBtYWluLnN0eWxlLmdyaWRUZW1wbGF0ZUNvbHVtbnMgPSBcIjM1MHB4IDFmclwiO1xyXG4gICAgICAgIHNpZGViYXJTaG93biA9IHRydWU7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7c2lkZWJhck9wZW5lcn0iLCJpbXBvcnQgeyBwcm9qZWN0cyB9IGZyb20gXCIuL3Byb2plY3RMb2FkZXJcIjtcclxuaW1wb3J0IHsgc2VsZWN0ZWRQcm9qZWN0IH0gZnJvbSBcIi5cIjtcclxuXHJcbmNvbnN0IGRlbGV0ZUJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmRlbGV0ZS1idXR0b25cIik7XHJcbmRlbGV0ZUJ1dHRvbnMuZm9yRWFjaChidXR0b24gPT4gYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBkZWxldGVUaGF0UHJvamVjdCkpO1xyXG5mdW5jdGlvbiBkZWxldGVUaGF0UHJvamVjdChlKXtcclxuICAgIGNvbnNvbGUubG9nKHNlbGVjdGVkUHJvamVjdCk7XHJcbiAgICBjb25zdCBkZWNpc2lvbiA9IGNvbmZpcm0oXCJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlIHRoaXMgcHJvamVjdCAmIHRhc2tzIGluc2lkZSBpdD9cIik7XHJcbiAgICBpZihkZWNpc2lvbil7XHJcbiAgICAgICAgcHJvamVjdHMuc3BsaWNlKHNlbGVjdGVkUHJvamVjdCwgMSk7XHJcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJwcm9qZWN0c19ieV9iYWhhXCIsIEpTT04uc3RyaW5naWZ5KHByb2plY3RzKSk7XHJcbiAgICAgICAgbG9hZFByb2plY3RzKCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7IGRlbGV0ZVRoYXRQcm9qZWN0IH1cclxuIiwiaW1wb3J0IHsgZGVsZXRlVGhhdFByb2plY3QgfSBmcm9tIFwiLi9kZWxldGVQcm9qZWN0XCI7XHJcbmltcG9ydCB7IHNpZGViYXJQcm9qZWN0RnVuY3Rpb25hbGl0eSB9IGZyb20gXCIuL3NpZGViYXJQcm9qZWN0TGlzdEZ1bmN0aW9uYWxpdHlcIjtcclxuaW1wb3J0IHsgc2lkZWJhclByb2plY3RzRWRpdCB9IGZyb20gXCIuL3NpZGViYXJQcm9qZWN0RWRpdHNcIjtcclxuXHJcbmNvbnN0IHByb2plY3RzID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInByb2plY3RzX2J5X2JhaGFcIikpIHx8IFtdO1xyXG5cclxuZnVuY3Rpb24gbG9hZFByb2plY3RzKCl7XHJcbiAgICBjb25zdCBzaWRlYmFyUHJvamVjdENvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvamVjdHNcIik7XHJcbiAgICBzaWRlYmFyUHJvamVjdENvbnRhaW5lci5pbm5lckhUTUwgPSBcIlwiO1xyXG4gICAgcHJvamVjdHMuZm9yRWFjaChpdGVtID0+IHtcclxuICAgICAgICBjb25zdCBwcm9qZWN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgICAgICBwcm9qZWN0LmNsYXNzTGlzdC5hZGQoXCJwcm9qZWN0XCIpO1xyXG4gICAgICAgIHByb2plY3QuZGF0YXNldC5pZCA9IGl0ZW0uaWQ7XHJcbiAgICAgICAgY29uc3QgcHJvamVjdFRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgICAgICBwcm9qZWN0VGl0bGUuY2xhc3NMaXN0LmFkZChcInByb2plY3QtdGl0bGVcIik7XHJcbiAgICAgICAgcHJvamVjdFRpdGxlLnRleHRDb250ZW50ID0gaXRlbS5wcm9qZWN0VGl0bGU7XHJcbiAgICAgICAgY29uc3QgZWRpdEJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XHJcbiAgICAgICAgZWRpdEJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwibWVudS1pY29uXCIpO1xyXG4gICAgICAgIGVkaXRCdXR0b24uY2xhc3NMaXN0LmFkZChcImVkaXQtYnV0dG9uXCIpO1xyXG4gICAgICAgIGVkaXRCdXR0b24uc2V0QXR0cmlidXRlKFwic3JjXCIsIFwiLi4vc3JjL2ltYWdlcy9lZGl0LnBuZ1wiKTtcclxuICAgICAgICBjb25zdCBkZWxldGVCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xyXG4gICAgICAgIGRlbGV0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwibWVudS1pY29uXCIpO1xyXG4gICAgICAgIGRlbGV0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwiZGVsZXRlLWJ1dHRvblwiKTtcclxuICAgICAgICBkZWxldGVCdXR0b24uc2V0QXR0cmlidXRlKFwic3JjXCIsIFwiLi4vc3JjL2ltYWdlcy9kZWxldGUucG5nXCIpO1xyXG4gICAgICAgIGRlbGV0ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZGVsZXRlVGhhdFByb2plY3QpO1xyXG4gICAgICAgIHByb2plY3QuYXBwZW5kQ2hpbGQocHJvamVjdFRpdGxlKTtcclxuICAgICAgICBwcm9qZWN0LmFwcGVuZENoaWxkKGVkaXRCdXR0b24pO1xyXG4gICAgICAgIHByb2plY3QuYXBwZW5kQ2hpbGQoZGVsZXRlQnV0dG9uKTtcclxuICAgICAgICBzaWRlYmFyUHJvamVjdENvbnRhaW5lci5hcHBlbmRDaGlsZChwcm9qZWN0KTtcclxuICAgIH0pXHJcbiAgICBzaWRlYmFyUHJvamVjdEZ1bmN0aW9uYWxpdHkoKTtcclxuICAgIHNpZGViYXJQcm9qZWN0c0VkaXQoKTtcclxufVxyXG5cclxuZXhwb3J0IHtsb2FkUHJvamVjdHMsIHByb2plY3RzfSIsImltcG9ydCB7IHNlbGVjdGVkUHJvamVjdCB9IGZyb20gXCIuXCI7XHJcblxyXG5mdW5jdGlvbiBzaWRlYmFyUHJvamVjdEZ1bmN0aW9uYWxpdHkoKXtcclxuICAgIGNvbnN0IHNpZGViYXJQcm9qZWN0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucHJvamVjdFwiKTtcclxuICAgIHNpZGViYXJQcm9qZWN0cy5mb3JFYWNoKHByb2plY3QgPT4gcHJvamVjdC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcclxuICAgICAgICBzZWxlY3RQcm9qZWN0KGUpO1xyXG4gICAgICAgIGRpc3BsYXlQcm9qZWN0VGFza3MoZSk7XHJcbiAgICAgICAgdXBkYXRlQ29udGVudFRpdGxlKGUpO1xyXG4gICAgfSkpO1xyXG4gICAgZnVuY3Rpb24gc2VsZWN0UHJvamVjdChlKXtcclxuICAgICAgICBzaWRlYmFyUHJvamVjdHMuZm9yRWFjaChwcm9qZWN0ID0+IHByb2plY3QuY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZVwiKSk7XHJcbiAgICAgICAgZS5jdXJyZW50VGFyZ2V0LmNsYXNzTGlzdC5hZGQoXCJhY3RpdmVcIik7XHJcbiAgICAgICAgc2VsZWN0ZWRQcm9qZWN0ID0gZS5jdXJyZW50VGFyZ2V0LmRhdGFzZXQuaWQ7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBkaXNwbGF5UHJvamVjdFRhc2tzKGUpe1xyXG4gICAgICAgIGNvbnN0IGFkZFRhc2tCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmFkZC10YXNrXCIpO1xyXG4gICAgICAgIGFkZFRhc2tCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcImhpZGRlblwiKTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIHVwZGF0ZUNvbnRlbnRUaXRsZShlKXtcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNvbnRlbnQtdGl0bGVcIikudGV4dENvbnRlbnQgPSBlLmN1cnJlbnRUYXJnZXQudGV4dENvbnRlbnQ7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7c2lkZWJhclByb2plY3RGdW5jdGlvbmFsaXR5fSIsImltcG9ydCB7IGZvcm1FZGl0IH0gZnJvbSBcIi5cIjtcclxuXHJcbmZ1bmN0aW9uIHNpZGViYXJQcm9qZWN0c0VkaXQoKXtcclxuICAgIGNvbnN0IGVkaXRCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5lZGl0LWJ1dHRvblwiKTtcclxuICAgIGVkaXRCdXR0b25zLmZvckVhY2goYnV0dG9uID0+IGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdmlld1Byb2plY3RFZGl0Rm9ybSkpO1xyXG4gICAgZnVuY3Rpb24gdmlld1Byb2plY3RFZGl0Rm9ybShlKXtcclxuICAgICAgICBvcGVuUHJvamVjdEZvcm0oKTtcclxuICAgICAgICBmb3JtRWRpdCA9IHRydWU7XHJcbiAgICAgICAgZm9ybS5xdWVyeVNlbGVjdG9yKFwiLnByb2plY3QtZm9ybS1pbnB1dFwiKS52YWx1ZSA9IGUudGFyZ2V0LnBhcmVudE5vZGUudGV4dENvbnRlbnQ7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7c2lkZWJhclByb2plY3RzRWRpdCwgZm9ybUVkaXR9IiwiY29uc3QgbWVudWJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnNpZGViYXItaXRlbVwiKTtcclxuY29uc3QgY29udGVudFRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jb250ZW50LXRpdGxlXCIpO1xyXG5tZW51YnV0dG9ucy5mb3JFYWNoKGJ1dHRvbiA9PiBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XHJcbiAgICBzZWxlY3RCdXR0b24oZSk7XHJcbiAgICB1cGRhdGVDb250ZW50VGl0bGUoZSk7XHJcbiAgICBsaXN0VGFrcyhlKTtcclxufSkpO1xyXG5mdW5jdGlvbiBzZWxlY3RCdXR0b24oZSl7XHJcbiAgICBtZW51YnV0dG9ucy5mb3JFYWNoKGJ1dHRvbiA9PiBidXR0b24uY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZVwiKSk7XHJcbiAgICBlLnRhcmdldC5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlXCIpO1xyXG59XHJcbmZ1bmN0aW9uIHVwZGF0ZUNvbnRlbnRUaXRsZShlKXtcclxuICAgIGNvbnRlbnRUaXRsZS50ZXh0Q29udGVudCA9IFwiXCI7XHJcbiAgICBjb250ZW50VGl0bGUudGV4dENvbnRlbnQgPSBlLnRhcmdldC50ZXh0Q29udGVudDtcclxuICAgIGNvbnN0IGFkZFRhc2tCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmFkZC10YXNrXCIpO1xyXG4gICAgYWRkVGFza0J1dHRvbi5jbGFzc0xpc3QuYWRkKFwiaGlkZGVuXCIpO1xyXG59XHJcblxyXG5leHBvcnQge21lbnVidXR0b25zfSIsImltcG9ydCB7IHNpZGViYXJPcGVuZXIgfSBmcm9tIFwiLi9zaWRlYmFyT3BlbmVyXCI7XG5pbXBvcnQgeyBsb2FkUHJvamVjdHMscHJvamVjdHMgfSBmcm9tIFwiLi9wcm9qZWN0TG9hZGVyXCI7XG5pbXBvcnQgbWVudWJ1dHRvbnMgZnJvbSBcIi4vaG9tZUJ1dHRvbnNGdW5jdGlvbnNcIjtcblxubG9hZFByb2plY3RzKCk7XG5cbmNvbnN0IGZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2plY3QtZm9ybVwiKTtcbmNvbnN0IGFkZFByb2plY3RCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmFkZC1idXR0b25cIik7XG5hZGRQcm9qZWN0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBvcGVuUHJvamVjdEZvcm0pO1xuZnVuY3Rpb24gb3BlblByb2plY3RGb3JtKCl7XG4gICAgZm9ybS5zdHlsZS5kaXNwbGF5ID0gXCJmbGV4XCI7XG59XG5cbmNvbnN0IGNhbmNlbEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvamVjdC1mb3JtLWJ1dHRvbi5jYW5jZWxcIik7XG5jYW5jZWxCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGNsb3NlUHJvamVjdEZvcm0pO1xuZnVuY3Rpb24gY2xvc2VQcm9qZWN0Rm9ybSgpe1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvamVjdC1mb3JtLWlucHV0XCIpLnZhbHVlID0gXCJcIjtcbiAgICBmb3JtLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbn1cblxubGV0IGZvcm1FZGl0ID0gZmFsc2U7XG5sZXQgc2VsZWN0ZWRQcm9qZWN0ID0gXCJcIjtcbmZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCBhZGRVcGRhdGVQcm9qZWN0KTtcbmZ1bmN0aW9uIGFkZFVwZGF0ZVByb2plY3QoZSl7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGlmKGZvcm1FZGl0KXtcbiAgICAgICAgcHJvamVjdHNbc2VsZWN0ZWRQcm9qZWN0XS5wcm9qZWN0VGl0bGUgPSBmb3JtLnF1ZXJ5U2VsZWN0b3IoXCIucHJvamVjdC1mb3JtLWlucHV0XCIpLnZhbHVlO1xuICAgICAgICBmb3JtRWRpdCA9IGZhbHNlO1xuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInByb2plY3RzX2J5X2JhaGFcIizigK9KU09OLnN0cmluZ2lmeShwcm9qZWN0cykpO1xuICAgICAgICBsb2FkUHJvamVjdHMoKTtcbiAgICAgICAgY2xvc2VQcm9qZWN0Rm9ybSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IHByb2plY3RUaXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvamVjdC1mb3JtLWlucHV0XCIpLnZhbHVlO1xuICAgICAgICBjb25zdCBuZXdQcm9qZWN0ID0gcHJvamVjdENyZWF0b3IocHJvamVjdFRpdGxlKTtcbiAgICAgICAgcHJvamVjdHMucHVzaChuZXdQcm9qZWN0KTtcbiAgICAgICAgY29uc29sZS5sb2cocHJvamVjdHMpO1xuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInByb2plY3RzX2J5X2JhaGFcIizigK9KU09OLnN0cmluZ2lmeShwcm9qZWN0cykpO1xuICAgICAgICBsb2FkUHJvamVjdHMoKTtcbiAgICAgICAgY2xvc2VQcm9qZWN0Rm9ybSgpO1xuICAgIH1cblxufVxuXG5mdW5jdGlvbiBwcm9qZWN0Q3JlYXRvcihwcm9qZWN0VGl0bGUpe1xuICAgIGNvbnNvbGUubG9nKFwiZmFjdG9yeSBjYWxsZWRcIilcbiAgICBjb25zdCBpZCA9IHByb2plY3RzLmxlbmd0aDtcbiAgICByZXR1cm4ge3Byb2plY3RUaXRsZSwgaWR9O1xufVxuXG4vLyBjb25zdCBkZWxldGVCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5kZWxldGUtYnV0dG9uXCIpO1xuLy8gZGVsZXRlQnV0dG9ucy5mb3JFYWNoKGJ1dHRvbiA9PiBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGRlbGV0ZVRoYXRQcm9qZWN0KSk7XG4vLyBmdW5jdGlvbiBkZWxldGVUaGF0UHJvamVjdChlKXtcbi8vICAgICBjb25zdCBkZWNpc2lvbiA9IGNvbmZpcm0oXCJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlIHRoaXMgcHJvamVjdCAmIHRhc2tzIGluc2lkZSBpdD9cIik7XG4vLyAgICAgaWYoZGVjaXNpb24pe1xuLy8gICAgICAgICBwcm9qZWN0cy5zcGxpY2Uoc2VsZWN0ZWRQcm9qZWN0LCAxKTtcbi8vICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJwcm9qZWN0c19ieV9iYWhhXCIsIEpTT04uc3RyaW5naWZ5KHByb2plY3RzKSk7XG4vLyAgICAgICAgIGxvYWRQcm9qZWN0cygpO1xuLy8gICAgIH1cbi8vIH1cblxuZXhwb3J0IHtmb3JtRWRpdCwgc2VsZWN0ZWRQcm9qZWN0fSJdLCJuYW1lcyI6WyJfX3dlYnBhY2tfcmVxdWlyZV9fIiwiZXhwb3J0cyIsImRlZmluaXRpb24iLCJrZXkiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0Iiwib2JqIiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsInNpZGViYXIiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJzaWRlYmFyT3BlbmVyIiwibWFpbiIsInNpZGViYXJTaG93biIsImRlbGV0ZVRoYXRQcm9qZWN0IiwiZSIsImNvbnNvbGUiLCJsb2ciLCJzZWxlY3RlZFByb2plY3QiLCJjb25maXJtIiwicHJvamVjdHMiLCJzcGxpY2UiLCJsb2NhbFN0b3JhZ2UiLCJzZXRJdGVtIiwiSlNPTiIsInN0cmluZ2lmeSIsImxvYWRQcm9qZWN0cyIsImFkZEV2ZW50TGlzdGVuZXIiLCJzdHlsZSIsImRpc3BsYXkiLCJncmlkVGVtcGxhdGVDb2x1bW5zIiwicXVlcnlTZWxlY3RvckFsbCIsImZvckVhY2giLCJidXR0b24iLCJwYXJzZSIsImdldEl0ZW0iLCJzaWRlYmFyUHJvamVjdENvbnRhaW5lciIsImlubmVySFRNTCIsIml0ZW0iLCJwcm9qZWN0IiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTGlzdCIsImFkZCIsImRhdGFzZXQiLCJpZCIsInByb2plY3RUaXRsZSIsInRleHRDb250ZW50IiwiZWRpdEJ1dHRvbiIsInNldEF0dHJpYnV0ZSIsImRlbGV0ZUJ1dHRvbiIsImFwcGVuZENoaWxkIiwic2lkZWJhclByb2plY3RzIiwicmVtb3ZlIiwiY3VycmVudFRhcmdldCIsInNlbGVjdFByb2plY3QiLCJ1cGRhdGVDb250ZW50VGl0bGUiLCJzaWRlYmFyUHJvamVjdEZ1bmN0aW9uYWxpdHkiLCJ2aWV3UHJvamVjdEVkaXRGb3JtIiwib3BlblByb2plY3RGb3JtIiwiZm9ybUVkaXQiLCJmb3JtIiwidmFsdWUiLCJ0YXJnZXQiLCJwYXJlbnROb2RlIiwic2lkZWJhclByb2plY3RzRWRpdCIsIm1lbnVidXR0b25zIiwiY29udGVudFRpdGxlIiwic2VsZWN0QnV0dG9uIiwibGlzdFRha3MiLCJjbG9zZVByb2plY3RGb3JtIiwicHJldmVudERlZmF1bHQiLCJuZXdQcm9qZWN0IiwibGVuZ3RoIiwicHJvamVjdENyZWF0b3IiLCJwdXNoIl0sInNvdXJjZVJvb3QiOiIifQ==